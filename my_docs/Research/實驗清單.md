### 🧪 碩士論文實驗總清單 (Master Thesis Experiment Masterlist)

#### 第一部分：基礎性能與基準比較 (針對 Chapter 3 & 4)

_目標：證明 NCA 比傳統 CFD 快，且比傳統 DL 模型（如 U-Net）輕量。_

| 編號     | 實驗名稱                                    | 實驗目的 (Research Question)       | 執行步驟與參數                                                      | 需收集數據 (Metrics)  | 視覺化產出 |
| -------- | ------------------------------------------- | ---------------------------------- | ------------------------------------------------------------------- | --------------------- | ---------- |
| **E-01** | **NCA 與 CFD 真值對比 (Baseline Accuracy)** | NCA 生成的流場與 OpenFOAM 有多像？ | 使用測試集 (Test Set) 的 100 個未見過樣本，輸入邊界條件，對比輸出。 | 1. MSE (均方誤差)<br> |

<br>2. Cosine Similarity (流向相似度)<br>

<br>3. Max Error (最大誤差值) | **Pixel-wise Error Map** (熱力圖顯示哪裡誤差最大) |
| **E-02** | **輕量化優勢驗證 (Model Efficiency)** | 為什麼要用 NCA 而不是 U-Net？ | 訓練一個標準 U-Net 達到相同 MSE 精度，對比兩者資源消耗。 | 1. 參數量 (Number of Parameters)<br>

<br>2. 模型大小 (MB)<br>

<br>3. 訓練收斂 Epoch數 | **參數量對比柱狀圖** (NCA 應顯著低於 U-Net) |
| **E-03** | **推論速度基準測試 (Inference Speed)** | 到底比 CFD 快幾倍？ | 在 CPU 與 GPU 環境下，分別運行 OpenFOAM 與 m-NCA 各 50 次。 | 1. 平均運算時間 (秒/frame)<br>

<br>2. 加速比 (Speed-up Factor) | **速度對比表格** (Log Scale) |

---

#### 第二部分：架構有效性與消融研究 (針對 Chapter 4 - m-NCA)

_目標：證明 m-NCA 的「模組化」與「PINN Loss」不是隨便加的，而是必要的。_

| 編號     | 實驗名稱                          | 實驗目的 (Research Question)      | 執行步驟與參數         | 需收集數據 (Metrics) | 視覺化產出 |
| -------- | --------------------------------- | --------------------------------- | ---------------------- | -------------------- | ---------- |
| **E-04** | **模組消融研究 (Ablation Study)** | Init-NCA 和 PI-NCA 真的有貢獻嗎？ | 比較三個模型變體：<br> |

<br>A: 完整 m-NCA<br>

<br>B: 移除 Init-NCA (隨機初始化)<br>

<br>C: 移除 PINN Loss (僅 MSE) | 1. Training Loss 下降曲線<br>

<br>2. 最終收斂的 MSE<br>

<br>3. 物理誤差 (Div Loss) | **Loss Curve 折線圖** (證明 A 收斂最快且 Loss 最低) |
| **E-05** | **物理守恆驗證 (Physics Compliance)** | 模型是否遵守質量守恆？ | 計算生成流場的散度 (Divergence, )。 | 1. 平均散度值 (Mean Divergence)<br>

<br>2. 散度圖 (Divergence Map) | **散度殘差圖** (證明 PINN Loss 讓物理違規減少) |
| **E-06** | **幾何泛化測試 (OOD Test)** | 遇到訓練集沒看過的形狀會崩潰嗎？ | 訓練集：矩形/L形。<br>

<br>測試集：圓形/多邊形/複雜迷宮。<br>

<br>輸入這些形狀看結果。 | 1. 視覺合理性 (Qualitative Check)<br>

<br>2. 是否出現數值爆炸 (NaN) | **成功與失敗案例對比圖** (Failure Cases Analysis) |

---

#### 第三部分：互動性與狀態連續性 (針對 Chapter 5 - eCAADe)

_目標：證明系統能支援「即時設計迴圈」，這是你論文的最大亮點。_

| 編號     | 實驗名稱                            | 實驗目的 (Research Question)   | 執行步驟與參數                         | 需收集數據 (Metrics) | 視覺化產出 |
| -------- | ----------------------------------- | ------------------------------ | -------------------------------------- | -------------------- | ---------- |
| **E-07** | **動態邊界響應 (Dynamic Response)** | 移動牆壁後，流場多久恢復穩定？ | 在模擬進行中，瞬間移動障礙物位置。<br> |

<br>記錄流場從擾動到再次穩定的過程。 | 1. 恢復穩定所需幀數 (Steps to Stabilize)<br>

<br>2. 恢復時間 (秒) | **時間序列截圖 (Time-lapse Strip)** (t=0, t=10, t=50...) |
| **E-08** | **系統延遲分析 (System Latency)** | 在 Grasshopper 裡跑會卡嗎？ | 在 GH 介面中連續操作，記錄不同網格解析度下的 FPS。 | 1. FPS (Frames Per Second)<br>

<br>2. 通訊延遲 (Python to GH time) | **FPS 性能折線圖** (X軸:解析度 64/128/256, Y軸:FPS) |
| **E-09** | **長時運行穩定性 (Long-term Stability)** | 跑久了會不會數值發散？ | 讓 State-Continuous 模型連續運行 10,000 幀 (約數分鐘)。 | 1. 監控數值範圍 (Max Velocity)<br>

<br>2. 檢查是否出現閃爍或消失 | **能量/速度隨時間變化圖** (應保持平穩波動) |

---

#### 第四部分：設計驗證與應用 (針對 Chapter 6 - Conclusion)

_目標：證明這個工具對「建築設計」有用，不只是個玩具。_

| 編號     | 實驗名稱                             | 實驗目的 (Research Question) | 執行步驟與參數                           | 需收集數據 (Metrics) | 視覺化產出 |
| -------- | ------------------------------------ | ---------------------------- | ---------------------------------------- | -------------------- | ---------- |
| **E-10** | **設計案例研究 (Design Case Study)** | 如何幫助改善通風？           | 選取一個通風不良的「單邊開窗」房間。<br> |

<br>利用工具調整開窗位置與導風板。<br>

<br>找到最佳解。 | 1. 改善前後的平均風速提升率 (%)<br>

<br>2. 死水區 (Dead Zone) 減少面積 | **設計演化故事圖** (Step 1 -> Step 2 -> Final) |
| **E-11** | **定性趨勢一致性 (Trend Consistency)** | 雖然數值有誤差，但設計方向對嗎？ | 改變設計變數 (如窗寬)，同時跑 NCA 與 CFD。<br>

<br>看兩者的「變化趨勢」是否同向。 | 1. 趨勢相關性 (正相關/負相關) | **趨勢對比圖** (X軸:窗寬, Y軸:平均風速) |

---

### ✅ 執行面的 Checkbox (建議印出來貼在牆上)

**數據準備階段 (Data Prep)**

- [ ] 整理好 Butterfly/OpenFOAM 生成的標準數據集 (建議至少 2000 筆)。
- [ ] 確保數據集包含多樣性 (不同長寬比、不同障礙物位置)。
- [ ] 建立一個 "Golden Test Set" (標準測試集)，鎖定 100 筆數據，這學期所有模型的評分都跑這 100 筆，才公平。

**模型訓練階段 (Training)**

- [ ] 訓練 Baseline (Standard NCA) 並存檔權重。
- [ ] 訓練 U-Net 對照組並存檔。
- [ ] 訓練 m-NCA (完整版) 並存檔。
- [ ] 跑消融實驗 (No-Init, No-PINN) 並保存 Loss Log (Tensorboard 數據)。

**eCAADe 開發階段 (Dev)**

- [ ] 完成 Python 後端 (接收 Mask -> 輸出 Flow)。
- [ ] 完成 Grasshopper 前端 (Gismo/Python Script -> 顯示 Mesh/Vector)。
- [ ] 錄製 **Demo 影片 1**：單純移動障礙物，氣流繞行。
- [ ] 錄製 **Demo 影片 2**：實際解決一個設計問題的過程。

**論文撰寫階段 (Visuals)**

- [ ] 繪製 E-01 的誤差熱力圖 (Error Heatmap)。
- [ ] 繪製 E-05 的散度圖 (Divergence Map)。
- [ ] 製作 E-07 的動態恢復 GIF (放在口試簡報)。
- [ ] 整理 E-03 與 E-08 的性能表格。

---

### 💡 關於實驗數據的特別叮嚀

1. **失敗的數據不要丟：**

- 如果你跑出了一個 E-06 (泛化測試) 失敗的圖（例如氣流穿牆了），**一定要留下來**。
- 在論文的 "Limitation" 章節放這張圖，分析為什麼失敗（例如：特徵長度小於 Kernel Size），這會讓教授覺得你非常誠實且科學。

2. **單位統一：**

- 你的 CFD 數據可能是 m/s，NCA 輸出可能是 0-1 的歸一化數值。
- 在做 E-01 和 E-11 比較時，記得要**反歸一化 (De-normalize)** 回真實物理單位，這樣說服力才夠。

3. **FPS 測試的硬體標註：**

- 做 E-08 時，一定要標註你的硬體規格（例如：RTX 3070 Laptop）。這能證明「在消費級顯卡上也能跑」，增強實用性論述。
