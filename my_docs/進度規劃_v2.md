### 📅 Phase 1: 救火與基建 (Week 1 - Week 2)

目標： 讓 LBM 穩定運作（即使參數保守），並打通 GH 與 Python 的通訊管道。

#### Week 1: 穩定性測試與通訊搭建 (Current)

- 🔴 核心危機處理 (LBM):
- 放棄追求高雷諾數，將 (黏度) 調高至 `0.02~0.05`， (速度) 降至 `0.05`。
- 暫時停用 MRT，改回 SRT (BGK) 模型以求穩定。
- Check: 確認能跑完 2000 步不發散 (No NaN)。

- 🟢 前端開發 (GH):
- 搭建 UDP 通訊架構：GH (Sender: Mask) Python (Receiver: Mask / Sender: Vector)。
- 寫一個 Mock-up Python 腳本：接收 Mask，回傳一個「假的」流場 (例如 Perlin Noise 或固定的向右流場)，確認 GH 能即時顯示。

- 📝 產出： LBM 不炸了、GH 畫面會動了 (即使數據是假的)。

#### Week 2: 數據量產與幾何生成

- 🔴 後端軌道 (Data Engine):
- 幾何生成器完工： 實作 `random_rects`, `urban_grid` 等 Mask 生成代碼。
- 批次腳本 (Batch Runner)： 設定好 `k-step=20` (每 20 步存一張圖)，開始跑數據。目標累積 50-100 個案例。

- 🟢 前端軌道 (Interaction):
- 在 GH 中實作 「滑鼠拖曳點 改變牆壁位置 即時匯出 Bitmap」 的邏輯。
- 測試 GH 端的 FPS 效能，確保傳輸延遲 < 100ms。

- 📝 產出： `dataset_v1` (約 2000-5000 組訓練對)、GH 互動操作流程定案。

---

### 📅 Phase 2: 模型訓練與系統整合 (Week 3 - Week 5)

目標： 訓練出能用的 NCA 模型，並將其「腦」裝進 GH 的「身體」裡。

#### Week 3: 模型訓練 (The Training Loop)

- 🔴 後端軌道 (AI Training):
- 載入 `dataset_v1`，開始訓練 m-NCA。
- Loss Function 調整： 加入 PINN Loss (Divergence-Free)，確保流體守恆。
- 監控： 觀察 Loss 下降曲線，確保模型學會「繞過障礙物」。

- 🟢 前端軌道 (Visualization):
- 優化 GH 的顯示效果：使用 `Hedgehog` 或自定義 Mesh 顯示向量場，調整顏色映射 (Colormap) 讓視覺效果更像 CFD。

- 📝 產出： 第一版權重檔 `model_checkpoint_v1.pth`。

#### Week 4: 狀態連續性實作 (State-Continuous Logic)

- 🔴 核心開發 (Inference Loop):
- 在 Python 端實作遞迴推論邏輯：
  `State_t = Model(State_t-1, New_Mask_from_GH)`
- 這一步是論文的核心（Cybernetic Loop），確保牆壁移動時，流場是「演化」過去而不是「跳變」過去。

- 🟢 系統整合:
- 將 Week 3 的真模型掛載到 Week 1 的 UDP 架構上。
- 首度聯調： 在 GH 移動牆壁，看 Python 算出的真流場是否合理反應。

- 📝 產出： 真正可互動的原型 (Working Prototype)。

#### Week 5: 實驗數據收集 (Experiments)

- 📊 執行實驗 (For Paper):
- Exp-A 動態響應： 錄製牆壁移動的 GIF，計算穩定所需幀數。
- Exp-B 效能測試： 記錄不同網格大小 () 下的 FPS 與 Latency。
- Exp-C 準確度 (初步)： 拿幾個簡單案例跟 OpenFOAM (或高精度 LBM) 比對，證明趨勢正確。

- 📝 產出： 論文所需的圖表 (Charts) 與數據表 (Tables)。

---

### 📅 Phase 3: 論文撰寫與影片製作 (Week 6 - Week 8)

目標： 將成果轉化為高品質的學術論文與演示影片。

#### Week 6: 視覺化與 Demo 影片 (The "Money Shot")

- 🎬 影片製作 (Priority High):
- 錄製 1-2 分鐘 Demo：

1. 展示 GH 介面操作。
2. 展示流場如何滑順地繞過新障礙物。
3. 並排顯示：左邊是操作，右邊是即時流場熱力圖。

- 這支影片是 eCAADe 錄取的關鍵。

- 🖼️ 論文圖表:
- 繪製 System Architecture Diagram (解釋 GH-UDP-Python-NCA 的架構)。
- 繪製 m-NCA Model Structure。

- 📝 產出： 最終版 Demo 影片、所有論文插圖。

#### Week 7: 論文全速撰寫 (Writing Sprint)

- 📄 章節填空:
- Methodology: 描述 m-NCA 與互動架構。
- Results: 填入 Week 5 的實驗數據。
- Introduction: 寫入「認知連續性」與「設計師的直覺」論述。

- 🔍 同儕審查: 找朋友或導師看一遍，檢查邏輯漏洞。
- 📝 產出： 論文初稿 (First Draft)。

#### Week 8: 最終修潤與投稿 (Final Polish)

- ✨ 格式調整:
- 依照 eCAADe 官方 Template 排版。
- 檢查參考文獻 (References)。

- 🚀 投稿 (Submission):
- 上傳 PDF。
- 上傳 Demo 影片連結。

- 🎉 4/1 截止日： 準時送出。

---

### ⚠️ 風險管理 (Risk Management)

1. 如果 Week 2 結束 LBM 還是不收斂怎麼辦？

- Plan B: 立刻切換到 Python 的 `jax-cfd` 或 `windrose` 等現成輕量級流體庫生成數據，或者用 OpenFOAM 跑少量數據 (20-30個)。不要卡在造輪子，論文重點是 NCA 的應用。

2. 如果 m-NCA 訓練效果很差 (泛化性低)？

- Plan B: 論文中誠實呈現，並將重點轉向「互動框架的創新性」與「速度優勢」，強調這是一個 "Proof of Concept"，準確度問題留給未來工作 (Future Work)。

3. 如果 GH 通訊延遲太高 (>500ms)？

- Plan B: 降低網格解析度至 ，或者在 Demo 影片中稍微加速播放 (Speed up 1.5x)。

---

### 🚀 本週 (Week 1) 具體行動指令

請複製以下指令開始執行：

1. 針對 LBM (後端):

> 「我決定先退回 SRT (BGK) 模型以求穩定。請給我一份 Taichi D2Q9 的 SRT 完整代碼，設定 (低速高黏)，邊界條件改為讀取 `mask.png` 图片，並包含每 20 步儲存 `.npy` 的功能。」

2. 針對 GH (前端):

> 「我要開始測試 GH 與 Python 的 UDP 通訊。請給我兩段代碼：
>
> 1. Python Server: 監聽 Port 5005，接收字串，回傳一個隨機的 64x64 向量場列表。
> 2. Grasshopper Python Script: 發送請求，接收數據並轉換為 Rhino 的 Vector3d 列表供顯示。」
